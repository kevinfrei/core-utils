{"version":3,"sources":["../src/FTON.js"],"names":["typecheck","x","undefined","Array","isArray","map","o","k","Error","parse","input","JSON","stringify","module","exports"],"mappings":"AACA;AAIA,MAAMA,SAAS,GAAIC,CAAD,IAAsB;AACtC,MAAIA,CAAC,KAAK,IAAN,IACF,OAAOA,CAAP,KAAa,QADX,IAEF,OAAOA,CAAP,KAAa,QAFX,IAGF,OAAOA,CAAP,KAAa,SAHf,EAIE;AACA,WAAOA,CAAP;AACD;;AAED,MAAIA,CAAC,KAAKC,SAAV,EAAqB;AACnB,WAAO,IAAP;AACD;;AAED,MAAIC,KAAK,CAACC,OAAN,CAAcH,CAAd,CAAJ,EAAsB;AACpB,WAAOA,CAAC,CAACI,GAAF,CAAML,SAAN,CAAP;AACD;;AAED,MAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;AACzB,QAAIK,CAAa,GAAG,EAApB;;AACA,SAAK,IAAIC,CAAT,IAAcN,CAAd,EAAiB;AACfK,MAAAA,CAAC,CAACC,CAAD,CAAD,GAAOP,SAAS,CAACC,CAAC,CAACM,CAAD,CAAF,CAAhB;AACD;;AACD,WAAOD,CAAP;AACD;;AAED,QAAM,IAAIE,KAAJ,CAAU,cAAV,CAAN;AACD,CA1BD;;AA4BA,MAAMC,KAAK,GAAIC,KAAD,IAA6B;AACzC,SAAOV,SAAS,CAACW,IAAI,CAACF,KAAL,CAAWC,KAAX,CAAD,CAAhB;AACD,CAFD;;AAIA,MAAME,SAAS,GAAIF,KAAD,IAA6B;AAC7C,SAAOC,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAP;AACD,CAFD;;AAIAG,MAAM,CAACC,OAAP,GAAiB;AACfL,EAAAA,KADe;AAEfG,EAAAA,SAFe;AAGfZ,EAAAA;AAHe,CAAjB","sourcesContent":["//@flow\n//@format\n\nimport type { FTONData, FTONObject, FTONArray } from './index';\n\nconst typecheck = (x: any): FTONData => {\n  if (x === null ||\n    typeof x === 'string' ||\n    typeof x === 'number' ||\n    typeof x === 'boolean'\n  ) {\n    return x;\n  }\n\n  if (x === undefined) {\n    return null;\n  }\n\n  if (Array.isArray(x)) {\n    return x.map(typecheck);\n  }\n\n  if (typeof x === 'object') {\n    let o: FTONObject = {};\n    for (let k of x) {\n      o[k] = typecheck(x[k]);\n    }\n    return o;\n  }\n\n  throw new Error('Invalid FTON');\n};\n\nconst parse = (input: string): FTONData => {\n  return typecheck(JSON.parse(input));\n};\n\nconst stringify = (input: FTONData): string => {\n  return JSON.stringify(input);\n};\n\nmodule.exports = {\n  parse,\n  stringify,\n  typecheck\n};\n"],"file":"FTON.js"}